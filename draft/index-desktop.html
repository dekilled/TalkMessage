<!DOCTYPE html>
<html>
<head>
    <title>Sistema de Atendimento</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="layout">
        <!-- Menu Lateral -->
        <nav class="sidebar">
            <div class="logo">
                <h2>Atendimento</h2>
            </div>
            <ul class="menu">
                <li class="active" data-section="pendentes"><a href="#pendentes">Pendentes</a></li>
                <li data-section="atendimento"><a href="#atendimento">Em Atendimento</a></li>
                <li data-section="concluidos"><a href="#concluidos">Concluídos</a></li>
            </ul>
            <div class="menu-footer">
                <ul class="menu">
                    <li data-section="config" class="config-menu-item">
                        <a href="#config">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"></circle>
                                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                            </svg>
                            Configurações
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Conteúdo Principal com Stats -->
        <div class="main-wrapper">
            <!-- Painel de Estatísticas -->
            <div class="stats-panel">
                <div class="stat-card">
                    <div class="stat-icon pending">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12 6 12 12 16 14"/>
                        </svg>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="pending-count">5</span>
                        <span class="stat-label">Aguardando</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon active">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                        </svg>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="active-count">3</span>
                        <span class="stat-label">Em Atendimento</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon completed">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                            <polyline points="22 4 12 14.01 9 11.01"/>
                        </svg>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="completed-count">12</span>
                        <span class="stat-label">Concluídos Hoje</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon total">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="total-count">20</span>
                        <span class="stat-label">Total do Dia</span>
                    </div>
                </div>
            </div>

            <!-- Área Principal -->
            <main class="main-content">
                <!-- Atendimentos Pendentes -->
                <section id="pendentes" class="content-section">
                    <h2>Atendimentos Pendentes</h2>
                    <div class="cards-container">
                        <!-- Card de Exemplo 1 -->
                        <div class="card">
                            <div class="card-header">
                                <h3>Maria Silva</h3>
                                <span class="phone">5538999999999</span>
                            </div>
                            <div class="card-body">
                                <div class="service-info">
                                    <span class="service-type">Passagem</span>
                                    <span class="service-date">10/03/2024</span>
                                </div>
                                <p class="description">Passagem para São Paulo</p>
                                <span class="timestamp">Contato: 15:30</span>
                            </div>
                        </div>

                        <!-- Card de Exemplo 2 -->
                        <div class="card">
                            <div class="card-header">
                                <h3>João Santos</h3>
                                <span class="phone">5538988888888</span>
                            </div>
                            <div class="card-body">
                                <div class="service-info">
                                    <span class="service-type">Exames</span>
                                    <span class="service-date">11/03/2024</span>
                                </div>
                                <p class="description">Exame de sangue completo</p>
                                <span class="timestamp">Contato: 16:45</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Em Atendimento -->
                <section id="atendimento" class="content-section" style="display: none;">
                    <h2>Em Atendimento</h2>
                    <div class="cards-container">
                        <div class="card active-card">
                            <div class="card-header">
                                <h3>Pedro Oliveira</h3>
                                <span class="phone">5538977777777</span>
                            </div>
                            <div class="card-body">
                                <div class="service-info">
                                    <span class="service-type">Cirurgia</span>
                                    <span class="service-date">10/03/2024</span>
                                </div>
                                <p class="description">Consulta pré-operatória</p>
                                <span class="timestamp">Em atendimento desde: 14:20</span>
                                <button class="finish-btn">Finalizar Atendimento</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Concluídos -->
                <section id="concluidos" class="content-section" style="display: none;">
                    <h2>Atendimentos Concluídos</h2>
                    <div class="cards-container">
                        <div class="card completed-card">
                            <div class="card-header">
                                <h3>Ana Souza</h3>
                                <span class="phone">5538966666666</span>
                            </div>
                            <div class="card-body">
                                <div class="service-info">
                                    <span class="service-type">Exames</span>
                                    <span class="service-date">10/03/2024</span>
                                </div>
                                <p class="description">Resultado de exame de vista</p>
                                <div class="completion-info">
                                    <span class="timestamp">Atendido: 13:45</span>
                                    <span class="resolution">Encaminhado para consulta</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Configurações -->
                <section id="config" class="content-section" style="display: none;">
                    <h2>Configurações do Sistema</h2>
                    <div class="config-card">
                        <h3>Mensagem de Horário de Almoço</h3>
                        <div class="lunch-settings">
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="lunch-message-active" checked>
                                    Ativar mensagem de horário de almoço
                                </label>
                            </div>
                            
                            <div class="time-range">
                                <div class="time-input">
                                    <label>Início:</label>
                                    <input type="time" id="lunch-start" value="11:00">
                                </div>
                                <div class="time-input">
                                    <label>Fim:</label>
                                    <input type="time" id="lunch-end" value="13:00">
                                </div>
                            </div>

                            <div class="message-input">
                                <label>Mensagem personalizada:</label>
                                <textarea id="lunch-message" rows="4">Olá! No momento estamos em horário de almoço (11h às 13h). Retornaremos seu contato assim que possível. Agradecemos a compreensão!</textarea>
                            </div>

                            <button class="config-btn save-lunch-settings">Salvar Configurações</button>
                        </div>

                        <h3>Status do WhatsApp</h3>
                        
                        <!-- Status de Conexão -->
                        <div id="connection-status" class="whatsapp-status">
                            <span id="status-indicator" class="status-indicator">Verificando...</span>
                        </div>

                        <!-- Container do QR Code -->
                        <div id="qr-container" class="qr-container" style="display: none;">
                            <div class="qr-instructions">
                                <h4>Conecte seu WhatsApp</h4>
                                <ol>
                                    <li>Abra o WhatsApp no seu celular</li>
                                    <li>Toque em Menu ou Configurações e selecione WhatsApp Web</li>
                                    <li>Aponte a câmera do seu celular para o QR Code</li>
                                </ol>
                            </div>
                            <div class="qr-code-wrapper">
                                <img id="qr-code" src="" alt="QR Code WhatsApp">
                            </div>
                        </div>

                        <!-- Mensagem de Conectado -->
                        <div id="connected-message" class="connected-message" style="display: none;">
                            <div class="success-icon">✓</div>
                            <h4>WhatsApp Conectado</h4>
                            <p>Seu WhatsApp está conectado e pronto para uso.</p>
                            <button onclick="disconnectWhatsApp()" class="config-btn disconnect-btn">Desconectar</button>
                        </div>

                        <h3>Dispositivos Autorizados</h3>
                        
                        <!-- Adicionar novo dispositivo -->
                        <div class="device-input-group">
                            <div class="input-row">
                                <input type="text" id="device-name" placeholder="Nome do dispositivo" class="device-input">
                                <input type="text" id="device-ip" placeholder="Endereço IP (ex: 192.168.1.100)" class="device-input">
                                <select id="device-type" class="device-input">
                                    <option value="computer">Computador</option>
                                    <option value="mobile">Celular</option>
                                </select>
                                <button onclick="addDevice()" class="config-btn add-device-btn">
                                    Adicionar Dispositivo
                                </button>
                            </div>
                            <div class="input-hint">
                                Formato: http://IP:3000 (ex: http://192.168.1.100:3000)
                            </div>
                        </div>

                        <!-- Lista de dispositivos -->
                        <div class="devices-list">
                            <h4>Dispositivos Conectados</h4>
                            <div class="device-cards" id="devices-container">
                                <!-- Dispositivo Principal -->
                                <div class="device-card primary">
                                    <div class="device-icon">💻</div>
                                    <div class="device-info">
                                        <h5>Computador Principal (Recepção)</h5>
                                        <span class="device-ip">http://localhost:3000</span>
                                        <span class="device-badge primary">Principal</span>
                                    </div>
                                    <div class="device-status online"></div>
                                </div>

                                <!-- Outros dispositivos (exemplo) -->
                                <div class="device-card">
                                    <div class="device-icon">📱</div>
                                    <div class="device-info">
                                        <h5>Celular Secretária</h5>
                                        <span class="device-ip">http://192.168.1.101:3000</span>
                                    </div>
                                    <div class="device-actions">
                                        <button class="remove-device" onclick="removeDevice(this)">×</button>
                                    </div>
                                    <div class="device-status online"></div>
                                </div>

                                <div class="device-card">
                                    <div class="device-icon">💻</div>
                                    <div class="device-info">
                                        <h5>Computador Interno</h5>
                                        <span class="device-ip">http://192.168.1.102:3000</span>
                                    </div>
                                    <div class="device-actions">
                                        <button class="remove-device" onclick="removeDevice(this)">×</button>
                                    </div>
                                    <div class="device-status offline"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Adicionar na seção de configurações -->
                        <div class="config-card">
                            <h3>Histórico de Atendimentos</h3>
                            
                            <!-- Filtros -->
                            <div class="history-filters">
                                <div class="date-filter">
                                    <input type="date" id="start-date" class="date-input">
                                    <span>até</span>
                                    <input type="date" id="end-date" class="date-input">
                                    <button class="config-btn btn-primary btn-icon" onclick="filterHistory()">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/>
                                        </svg>
                                        Filtrar
                                    </button>
                                </div>
                            </div>

                            <!-- Gráfico de Atendimentos -->
                            <div class="history-chart">
                                <canvas id="attendanceChart"></canvas>
                            </div>

                            <!-- Tabela de Histórico -->
                            <div class="history-table">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Data</th>
                                            <th>Total</th>
                                            <th>Concluídos</th>
                                            <th>Tempo Médio</th>
                                            <th>Pico</th>
                                        </tr>
                                    </thead>
                                    <tbody id="history-data">
                                        <tr>
                                            <td>10/03/2024</td>
                                            <td>25</td>
                                            <td>23</td>
                                            <td>15min</td>
                                            <td>10:30</td>
                                        </tr>
                                        <tr>
                                            <td>09/03/2024</td>
                                            <td>20</td>
                                            <td>20</td>
                                            <td>12min</td>
                                            <td>11:00</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script>
        // Navegação do menu
        document.querySelectorAll('.menu li').forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                
                // Remove classe active de todos os itens
                document.querySelectorAll('.menu li').forEach(i => i.classList.remove('active'));
                
                // Adiciona classe active ao item clicado
                item.classList.add('active');
                
                // Pega o id da seção a ser mostrada
                const sectionId = item.getAttribute('data-section');
                
                // Esconde todas as seções primeiro
                document.querySelectorAll('.content-section').forEach(section => {
                    section.style.display = 'none';
                });
                
                // Mostra a seção selecionada
                if (sectionId) {
                    const selectedSection = document.getElementById(sectionId);
                    if (selectedSection) {
                        console.log('Mostrando seção:', sectionId); // Debug
                        selectedSection.style.display = 'block';
                    }
                }
            });
        });

        // Debug inicial
        console.log('Seções encontradas:', document.querySelectorAll('.content-section').length);
        document.querySelectorAll('.content-section').forEach(section => {
            console.log('Seção:', section.id, 'Display:', section.style.display);
        });

        // Função para salvar configurações do horário de almoço
        document.querySelector('.save-lunch-settings').addEventListener('click', function() {
            const config = {
                active: document.getElementById('lunch-message-active').checked,
                startTime: document.getElementById('lunch-start').value,
                endTime: document.getElementById('lunch-end').value,
                message: document.getElementById('lunch-message').value
            };

            // Aqui você implementará a lógica para salvar no servidor
            console.log('Configurações de horário de almoço:', config);
            alert('Configurações salvas com sucesso!');
        });

        // Função para atualizar o status da conexão
        function updateConnectionStatus(status) {
            const statusIndicator = document.getElementById('status-indicator');
            const qrContainer = document.getElementById('qr-container');
            const connectedMessage = document.getElementById('connected-message');
            
            statusIndicator.className = 'status-indicator ' + status;
            
            switch(status) {
                case 'connected':
                    statusIndicator.textContent = 'Conectado';
                    qrContainer.style.display = 'none';
                    connectedMessage.style.display = 'block';
                    break;
                case 'disconnected':
                    statusIndicator.textContent = 'Desconectado';
                    qrContainer.style.display = 'block';
                    connectedMessage.style.display = 'none';
                    break;
                case 'connecting':
                    statusIndicator.textContent = 'Conectando...';
                    qrContainer.style.display = 'block';
                    connectedMessage.style.display = 'none';
                    break;
            }
        }

        // Função para atualizar o QR Code
        function updateQRCode(qrBase64) {
            const qrCode = document.getElementById('qr-code');
            if (qrCode && qrBase64) {
                qrCode.src = qrBase64;
            }
        }

        // Função para desconectar WhatsApp (implementar conforme necessário)
        function disconnectWhatsApp() {
            // Implementar a lógica de desconexão
            if (confirm('Tem certeza que deseja desconectar o WhatsApp?')) {
                // Fazer a requisição para desconectar
                updateConnectionStatus('disconnected');
            }
        }

        // Função para adicionar novo dispositivo
        function addDevice() {
            const name = document.getElementById('device-name').value;
            let ip = document.getElementById('device-ip').value;
            const type = document.getElementById('device-type').value;

            if (!name || !ip) {
                alert('Por favor, preencha todos os campos');
                return;
            }

            // Formatar o IP corretamente
            if (!ip.startsWith('http://')) {
                ip = `http://${ip}`;
            }
            if (!ip.includes(':3000')) {
                ip = `${ip}:3000`;
            }

            const container = document.getElementById('devices-container');
            const deviceCard = document.createElement('div');
            deviceCard.className = 'device-card';
            deviceCard.innerHTML = `
                <div class="device-icon">${type === 'computer' ? '💻' : '📱'}</div>
                <div class="device-info">
                    <h5>${name}</h5>
                    <span class="device-ip">${ip}</span>
                </div>
                <div class="device-actions">
                    <button class="remove-device" onclick="removeDevice(this)">×</button>
                </div>
                <div class="device-status online"></div>
            `;

            container.appendChild(deviceCard);

            // Limpar campos
            document.getElementById('device-name').value = '';
            document.getElementById('device-ip').value = '';
        }

        // Função para remover dispositivo
        function removeDevice(button) {
            if (confirm('Tem certeza que deseja remover este dispositivo?')) {
                button.closest('.device-card').remove();
            }
        }

        // Atualizar contadores
        function updateCounters() {
            document.getElementById('pending-count').textContent = 
                document.querySelectorAll('#pendentes .card').length;
            
            document.getElementById('active-count').textContent = 
                document.querySelectorAll('#atendimento .card').length;
            
            document.getElementById('completed-count').textContent = 
                document.querySelectorAll('#concluidos .card').length;
            
            const total = parseInt(document.getElementById('pending-count').textContent) +
                         parseInt(document.getElementById('active-count').textContent) +
                         parseInt(document.getElementById('completed-count').textContent);
            
            document.getElementById('total-count').textContent = total;
        }

        // Inicializar gráfico
        function initChart() {
            const ctx = document.getElementById('attendanceChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['08:00', '09:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00'],
                    datasets: [{
                        label: 'Atendimentos',
                        data: [4, 6, 8, 10, 5, 3, 7, 9, 6, 4],
                        borderColor: '#075e54',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: 'Fluxo de Atendimentos'
                        }
                    }
                }
            });
        }

        // Filtrar histórico
        function filterHistory() {
            const startDate = document.getElementById('start-date').value;
            const endDate = document.getElementById('end-date').value;
            // Implementar lógica de filtro
            console.log('Filtrando de', startDate, 'até', endDate);
        }

        // Inicializar
        document.addEventListener('DOMContentLoaded', () => {
            updateCounters();
            initChart();
        });
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
        }

        .layout {
            display: flex;
            min-height: 100vh;
            position: relative;
        }

        .main-wrapper {
            flex: 1;
            margin-left: 240px; /* Espaço para a sidebar */
            min-height: 100vh;
            background: #f8f9fa;
            padding: 20px;
        }

        /* Menu Lateral */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 240px;
            height: 100vh;
            background: #075e54;
            color: white;
            z-index: 1000;
            display: flex;
            flex-direction: column;
        }

        .logo {
            padding: 0 20px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .menu {
            list-style: none;
            margin-top: 20px;
            flex: 1;
        }

        .menu li {
            padding: 10px 20px;
            cursor: pointer;
        }

        .menu li.active {
            background-color: rgba(255,255,255,0.1);
        }

        .menu a {
            color: white;
            text-decoration: none;
            display: block;
        }

        /* Área Principal */
        .main-content {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .content-section {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .content-section h2 {
            margin-bottom: 20px;
            color: #333;
        }

        /* Cards */
        .cards-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            background-color: #fff;
            transition: transform 0.2s;
            cursor: pointer;
        }

        .card:hover {
            transform: translateX(5px);
            border-left: 4px solid #075e54;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .card-header h3 {
            color: #075e54;
            font-size: 1.1em;
        }

        .phone {
            color: #666;
            font-size: 0.9em;
        }

        .service-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .service-type {
            background-color: #e3f2fd;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.9em;
            color: #1976d2;
        }

        .service-date {
            color: #666;
            font-size: 0.9em;
        }

        .description {
            color: #444;
            margin-bottom: 10px;
        }

        .timestamp {
            font-size: 0.8em;
            color: #888;
        }

        /* Novos estilos para cards específicos */
        .active-card {
            border-left: 4px solid #ffa000;
            background-color: #fff8e1;
        }

        .completed-card {
            border-left: 4px solid #43a047;
            background-color: #f1f8e9;
        }

        .finish-btn {
            display: block;
            width: 100%;
            padding: 8px;
            margin-top: 10px;
            background-color: #ffa000;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .finish-btn:hover {
            background-color: #ff8f00;
        }

        .completion-info {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #ddd;
        }

        .resolution {
            display: block;
            margin-top: 5px;
            font-style: italic;
            color: #43a047;
        }

        .config-card {
            background-color: #fff;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .lunch-settings {
            padding: 15px 0;
        }

        .time-range {
            display: flex;
            gap: 20px;
            margin: 15px 0;
        }

        .time-input {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .time-input input {
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .message-input {
            margin: 15px 0;
        }

        .message-input textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-top: 5px;
            resize: vertical;
        }

        .save-lunch-settings {
            margin-top: 10px;
        }

        .menu-footer {
            margin-top: auto;
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 10px;
        }

        .config-menu-item {
            list-style: none;
            padding: 10px 20px;
            cursor: pointer;
        }

        .config-menu-item a {
            display: flex;
            align-items: center;
            gap: 10px;
            color: white;
            text-decoration: none;
        }

        .config-menu-item:hover {
            background-color: rgba(255,255,255,0.1);
        }

        .config-menu-item svg {
            opacity: 0.8;
        }

        /* Estilos para o QR Code e status */
        .qr-container {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
        }

        .qr-instructions {
            margin-bottom: 20px;
            text-align: left;
        }

        .qr-instructions h4 {
            color: #075e54;
            margin-bottom: 10px;
        }

        .qr-instructions ol {
            padding-left: 20px;
            color: #666;
        }

        .qr-instructions li {
            margin: 10px 0;
        }

        .qr-code-wrapper {
            background: white;
            padding: 20px;
            border-radius: 8px;
            display: inline-block;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .qr-code-wrapper img {
            max-width: 250px;
            height: auto;
        }

        .connected-message {
            text-align: center;
            padding: 30px;
            background: #f0f7f1;
            border-radius: 8px;
            margin-top: 20px;
        }

        .success-icon {
            background: #28a745;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            margin: 0 auto 15px;
        }

        .connected-message h4 {
            color: #28a745;
            margin-bottom: 10px;
        }

        .connected-message p {
            color: #666;
            margin-bottom: 20px;
        }

        .disconnect-btn {
            background: #dc3545;
        }

        .disconnect-btn:hover {
            background: #c82333;
        }

        .status-indicator {
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 500;
        }

        .status-indicator.connecting {
            background: #fff3cd;
            color: #856404;
        }

        .status-indicator.connected {
            background: #d4edda;
            color: #155724;
        }

        .status-indicator.disconnected {
            background: #f8d7da;
            color: #721c24;
        }

        /* Estilos para dispositivos */
        .device-input-group {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .input-row {
            display: grid;
            grid-template-columns: 2fr 2fr 1fr 1fr;
            gap: 10px;
            align-items: center;
        }

        .device-input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }

        .add-device-btn {
            background: #28a745;
        }

        .add-device-btn:hover {
            background: #218838;
        }

        .devices-list h4 {
            margin-bottom: 15px;
            color: #075e54;
        }

        .device-cards {
            display: grid;
            gap: 15px;
        }

        .device-card {
            display: grid;
            grid-template-columns: auto 1fr auto auto;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .device-card:hover {
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .device-card.primary {
            border-color: #075e54;
            background: #f0f7f6;
        }

        .device-icon {
            font-size: 24px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .device-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .device-info h5 {
            margin: 0;
            color: #333;
            font-size: 16px;
        }

        .device-ip {
            color: #075e54;
            font-family: monospace;
            font-size: 14px;
            background: rgba(7, 94, 84, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
        }

        .device-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .device-badge.primary {
            background: #075e54;
            color: white;
        }

        .device-status {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-left: 10px;
        }

        .device-status.online {
            background: #28a745;
            box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.2);
        }

        .device-status.offline {
            background: #dc3545;
            box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.2);
        }

        .remove-device {
            background: none;
            border: none;
            color: #dc3545;
            font-size: 20px;
            cursor: pointer;
            padding: 0 5px;
            opacity: 0.7;
            transition: opacity 0.2s;
        }

        .remove-device:hover {
            opacity: 1;
        }

        .input-hint {
            margin-top: 8px;
            font-size: 12px;
            color: #666;
            padding-left: 5px;
        }

        /* Estilos modernos para botões */
        .config-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        /* Efeito de onda ao clicar */
        .config-btn::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            background-image: radial-gradient(circle, #fff 10%, transparent 10.01%);
            background-repeat: no-repeat;
            background-position: 50%;
            transform: scale(10, 10);
            opacity: 0;
            transition: transform .5s, opacity 1s;
        }

        .config-btn:active::after {
            transform: scale(0, 0);
            opacity: .3;
            transition: 0s;
        }

        /* Variantes de botões */
        .btn-primary {
            background: linear-gradient(45deg, #075e54, #128C7E);
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(45deg, #128C7E, #075e54);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(7, 94, 84, 0.2);
        }

        .btn-danger {
            background: linear-gradient(45deg, #dc3545, #c82333);
            color: white;
        }

        .btn-danger:hover {
            background: linear-gradient(45deg, #c82333, #dc3545);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(220, 53, 69, 0.2);
        }

        .btn-success {
            background: linear-gradient(45deg, #28a745, #218838);
            color: white;
        }

        .btn-success:hover {
            background: linear-gradient(45deg, #218838, #28a745);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(40, 167, 69, 0.2);
        }

        /* Botão com ícone */
        .btn-icon {
            padding-left: 15px;
        }

        .btn-icon svg {
            width: 16px;
            height: 16px;
        }

        /* Botão de remoção nos cards */
        .remove-device {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #fff;
            border: 1px solid #dc3545;
            color: #dc3545;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(220, 53, 69, 0.1);
        }

        .remove-device:hover {
            background: #dc3545;
            color: white;
            transform: scale(1.1);
        }

        /* Atualizar classes específicas */
        .add-device-btn {
            background: linear-gradient(45deg, #28a745, #218838);
        }

        .disconnect-btn {
            background: linear-gradient(45deg, #dc3545, #c82333);
        }

        /* Botões desabilitados */
        .config-btn:disabled {
            background: #e9ecef;
            color: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Painel de Estatísticas */
        .stats-panel {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 20px;
            padding: 0;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .stat-icon svg {
            width: 24px;
            height: 24px;
        }

        .stat-icon.pending {
            background: rgba(255, 159, 67, 0.1);
            color: #ff9f43;
        }

        .stat-icon.active {
            background: rgba(0, 198, 255, 0.1);
            color: #00c6ff;
        }

        .stat-icon.completed {
            background: rgba(40, 167, 69, 0.1);
            color: #28a745;
        }

        .stat-icon.total {
            background: rgba(90, 103, 216, 0.1);
            color: #5a67d8;
        }

        .stat-info {
            display: flex;
            flex-direction: column;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 600;
            color: #2d3748;
        }

        .stat-label {
            font-size: 14px;
            color: #718096;
        }

        /* Histórico */
        .history-filters {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .date-filter {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .date-input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .history-chart {
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .history-table {
            overflow-x: auto;
        }

        .history-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .history-table th,
        .history-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        .history-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2d3748;
        }

        .history-table tr:hover {
            background: #f8f9fa;
        }

        /* Responsividade */
        @media (max-width: 1200px) {
            .stats-panel {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .stats-panel {
                grid-template-columns: 1fr;
            }
        }
    </style>
</body>
</html>